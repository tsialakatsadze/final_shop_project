{% extends "layout.html" %}
{% load static %}
{% block title %}
    ჩემი შეკვეთები
{% endblock title %}
{% block content %}
    <div class="p-4 sm:p-8">
        <div class="mx-auto w-full max-w-7xl bg-white">
            <div class="overflow-hidden rounded shadow mt-24">
                <div class="rc-table rc-table-scroll-horizontal">
                    <div class="rc-table-container">
                        <div class="rc-table-content" style="overflow: auto hidden;">
                            <table style="width: 1000px; min-width: 100%; table-layout: auto;">
                                <colgroup>
                                    <col class="rc-table-expand-icon-col">
                                    <col>
                                    <col>
                                    <col>
                                    <col>
                                    <col>
                                    <col>
                                    <col>
                                </colgroup>
                                <thead class="rc-table-thead">
                                <tr>
                                    <th class="rc-table-cell rc-table-row-expand-icon-cell"></th>
                                    <th class="rc-table-cell" style="text-align: left;">პროდუქტის ნომერი</th>
                                    <th class="rc-table-cell" style="text-align: left;">
                                        <span class="inline-flex items-center">
                                            <span title="Sort by Customer">სახელი, გვარი</span>
                                        </span>
                                    </th>
                                    <th class="rc-table-cell" style="text-align: center;">პროდ. რაოდენობა</th>
                                    <th class="rc-table-cell" style="text-align: center;">
                                        <span class="inline-flex items-center cursor-pointer">
                                            <span title="Sort by Total">თანხა</span>
                                        </span>
                                    </th>
                                    <th class="rc-table-cell" style="text-align: center;">სტატუსი</th>
                                    <th class="rc-table-cell" style="text-align: center;">
                                        <span class="inline-flex items-center cursor-pointer">
                                            <span title="Sort by Order Date">შეკვეთის დრო</span>
                                        </span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody class="rc-table-tbody">
                                <tr aria-hidden="true" class="rc-table-measure-row" style="height: 0px; font-size: 0px;"><td style="padding: 0px; border: 0px; height: 0px;"><div style="height: 0px; overflow: hidden;">&nbsp;</div></td><td style="padding: 0px; border: 0px; height: 0px;"><div style="height: 0px; overflow: hidden;">&nbsp;</div></td><td style="padding: 0px; border: 0px; height: 0px;"><div style="height: 0px; overflow: hidden;">&nbsp;</div></td><td style="padding: 0px; border: 0px; height: 0px;"><div style="height: 0px; overflow: hidden;">&nbsp;</div></td><td style="padding: 0px; border: 0px; height: 0px;"><div style="height: 0px; overflow: hidden;">&nbsp;</div></td><td style="padding: 0px; border: 0px; height: 0px;"><div style="height: 0px; overflow: hidden;">&nbsp;</div></td><td style="padding: 0px; border: 0px; height: 0px;"><div style="height: 0px; overflow: hidden;">&nbsp;</div></td><td style="padding: 0px; border: 0px; height: 0px;"><div style="height: 0px; overflow: hidden;">&nbsp;</div></td></tr>
                                {% for order in orders %}
                                <tr class="rc-table-row rc-table-row-level-0">
                                    <td class="rc-table-cell rc-table-row-expand-icon-cell">
                                        <a title="View" class="text-base transition duration-200 hover:text-heading" href="{% url 'order' order.id %}">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-5 h-5">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                            </svg>
                                        </a>
                                    </td>
                                    <td class="rc-table-cell" style="text-align: left;">{{ order.id }}</td>
                                    <td class="rc-table-cell" style="text-align: left;">
                                        <div class="flex items-center">
                                            <span title="Customer" class="inline-flex items-center justify-center flex-shrink-0 border text-accent border-border-100 bg-accent/10 overflow-hidden relative text-sm rounded-full font-semibold" style="width: 40px; height: 40px;">{{ order.firstname.0 }}</span>
                                                <div class="flex flex-col whitespace-nowrap font-medium ms-2">{{ order.firstname }}, {{ order.lastname }}<span class="text-[13px] font-normal text-gray-500/80">{{ order.phone }}</span>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="rc-table-cell" style="text-align: center;"><span>{{ order.orderitem_set.count }}</span></td>
                                    <td class="rc-table-cell" style="text-align: center;"><span>₾{{ order.total_price }}</span></td>
                                    <td class="rc-table-cell" style="text-align: center;">
                                        <span class="inline-block px-3 py-1.5 rounded text-xs whitespace-nowrap relative font-medium bg-status-processing bg-opacity-10 text-status-processing">{{ order.order_status.title }}</span>
                                    </td>
                                    <td class="rc-table-cell" style="text-align: center;"><span class="whitespace-nowrap">{{ order.created_at }}</span></td>
                                </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}